@{
    ViewData["Title"] = "Cities";
}
@using CollectionApp.Models
<h2>Города</h2>

@(Html.DevExtreme().DataGrid<City>()
        .ID("gridContainer")
        .DataSource(d => d
            .OData()
            .Url("/odata/Cities").Key("Id").Version(4))
        .FilterRow(f => f.Visible(true))
        .Paging(p => p.PageSize(10))
        .ShowBorders(true)
        .Editing(e => e
        .Mode(GridEditMode.Form)
        .RefreshMode(GridEditRefreshMode.Full)
        .AllowAdding(true)
        .AllowDeleting(true)
        .AllowUpdating(true)
        )
        .OnRowInserting("cityInserting")
        .Columns(columns =>
        {

            columns.AddFor(m => m.Name);
            
        })
        .Editing(e => e
            .AllowAdding(true)
            .AllowUpdating(true)
            .AllowDeleting(true)
        )
)

<script>
    var cityInserting = function(e){
        console.log(e)
    }
</script>
